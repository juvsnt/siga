<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/templates/template-principal/#{userBean.template()}.xhtml">

    <ui:define name="title">Criar WebQuest</ui:define>

    <ui:define name="name">Criar WebQuest</ui:define>

    <ui:define name="content">

        <h:form id="form" rendered="#{!userBean.learner}" >

            <div id="mens" class="ui-messages ui-widget">
                <div class="ui-messages-info ui-corner-all">
                    <span class="ui-messages-info-icon"></span>
                    <ul>
                        <li>
                            <span class="ui-messages-info-summary">Criar nova webQuest</span> 
                            <span class="ui-messages-info-detail"></span>
                        </li>
                    </ul>
                </div>
            </div>

            <div>
                <p:messages id="msgs" showDetail="true"/>
            </div>

            <p:panel>
                
                <f:facet name="header">
                    Criar WebQuest Default
                </f:facet>
                
                <center>

                    <table border="0" style="width: 80%;">

                        <tbody>
                            <tr>
                                <td style="text-align: right">
                                    <h:commandButton title="Salvar WebQuest" image="/resources/imagens/save_64.png"
                                                     action="#{webQuestBean.registerWebQuestFast}"/>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <h:panelGrid id="cover" style="width: 80%; margin-top: 20px;" columns="2">

                        <h:outputText style="font-weight: bold;" value="Título: *"/>
                        <p:inputText style="width: 100%;" size="40" value="#{webQuestBean.webQuest.title}" required="true"
                                     requiredMessage="Campo Título é obrigatório"/>

                        <h:outputText style="font-weight: bold;" value="Objetivos de Aprendizagem: *"/>
                        <p:inputTextarea style="width: 98%;" rows="4" cols="40" value="#{webQuestBean.webQuest.learningObjectives}" required="true"
                                         requiredMessage="Campo Objetivos de Aprendizagem é obrigatório" />

                        <h:outputText style="font-weight: bold;" value="Pré-Requisitos: *"/>
                        <p:inputTextarea style="width: 98%;" rows="4" cols="40" value="#{webQuestBean.webQuest.prerequisites}" required="true"
                                         requiredMessage="Campo Pré-Requisitos é obrigatório" />

                        <h:outputText style="font-weight: bold" value="Público Alvo: *"/>
                        <p:selectOneMenu  style="width: 100%;" id="category" value="#{webQuestBean.webQuest.target}" 
                                          required="true" requiredMessage="É necesssário selecionar um público alvo">  
                            <f:selectItem itemLabel="Selecione um público alvo" itemValue="" />  
                            <f:selectItems value="#{webQuestBean.targets}" />
                        </p:selectOneMenu> 
                        
                        <h:outputText style="font-weight: bold;" value="Número de fases: "/>
                        <p:inputText style="width: 100%;" size="40" value="#{webQuestBean.numPhases}"/>
                        
                        <h:outputText style="font-weight: bold;" value="Número de atividades por fase: "/>
                        <p:inputText style="width: 100%;" size="40" value="#{webQuestBean.numActivitiesPerPhases}"/>
                        
                        <h:outputText style="font-weight: bold;" value="Número de Qualificadores: "/>
                        <p:inputText style="width: 100%;" size="40" value="#{webQuestBean.numQualifiers}"/>

                    </h:panelGrid>

                    <br/>

                    <table border="0" style="width: 80%;">

                        <tbody>
                            <tr>
                                <td style="text-align: right">
                                    <h:commandButton title="Voltar" image="/resources/imagens/cancel_64.png"
                                                     immediate="true" action="webquest-manager?faces-redirect=true"/>
                                </td>
                            </tr>
                        </tbody>
                    </table>

                </center>

            </p:panel>

        </h:form>
 <h:form rendered="#{userBean.learner}">
            <div id="mens" class="ui-messages ui-widget">
                <div class="ui-messages-info ui-corner-all">
                    <span class="ui-messages-info-icon"></span>
                    <ul>
                        <li>
                            <span class="ui-messages-info-summary">Alunos</span> 
                            <span class="ui-messages-info-detail">Você não deveria estar aqui, para visualizar as WebQuests nas quais você está inscrito acesse o menu "Turmas".</span>
                        </li>
                    </ul>
                </div>
            </div>
        </h:form>
    </ui:define>
    <ui:define name="sidebar">
        <div class="art-layout-cell art-sidebar1 clearfix">
            <div class="art-block clearfix">
                <div class="art-blockcontent">
                    <p>
                        Seja bem-vindo, #{userBean.user.name}!<br/>
                        Acesse o menu acima para iniciar!<br/>
                        <br/>
                    </p>
                </div>
            </div>

            <div class="art-block clearfix">
                <div class="art-blockcontent">
                    <p><b>Contato: </b>Juvenal<br/><a href="juvenalneto@unemat.br"><span style="font-weight: bold;">juvenalneto@unemat.br</span></a></p></div>
            </div>              
            
        </div>
    </ui:define>

</ui:composition>